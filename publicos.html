const firebaseConfig = {
    apiKey: "AIzaSyAdoPUF-cCyvpfiCJiBfCRv3ZYtwu1W4tc",
    authDomain: "refrankenstein.firebaseapp.com",
    projectId: "refrankenstein",
    storageBucket: "refrankenstein.firebasestorage.app",
    messagingSenderId: "575434538832",
    appId: "1:575434538832:web:615f850a61c54ddd9d3655"
  };

// Inicializar Firebase
try {
  firebase.initializeApp(firebaseConfig);
  console.log("Firebase inicializado correctamente");
  const db = firebase.firestore();

  // Mostrar refranes con depuración
  db.collection("refranes")
    .orderBy("fecha", "desc")
    .onSnapshot(
      (querySnapshot) => {
        console.log("Datos recibidos:", querySnapshot.docs);
        const lista = document.getElementById("lista-refranes");
        lista.innerHTML = "";
        
        querySnapshot.forEach((doc) => {
          const refran = doc.data();
          console.log("Refrán:", refran);
          lista.innerHTML += `
            <div class="refran">
              <p>${refran.texto}</p>
              <small>${refran.fecha?.toDate().toLocaleString() || 'Fecha no disponible'}</small>
            </div>
          `;
        });
      },
      (error) => {
        console.error("Error en la consulta:", error);
        alert("Error al cargar refranes. Revisa la consola (F12)");
      }
    );

} catch (error) {
  console.error("Error al inicializar Firebase:", error);
}
