// Configuración de Firebase (¡usa TU configuración real!)
const firebaseConfig = {
  apiKey: "TU_API_KEY_REAL",
  authDomain: "TU_PROYECTO.firebaseapp.com",
  projectId: "TU_PROYECTO",
  storageBucket: "TU_PROYECTO.appspot.com",
  messagingSenderId: "TU_SENDER_ID",
  appId: "TU_APP_ID"
};

// Inicializar Firebase
try {
  firebase.initializeApp(firebaseConfig);
  console.log("Firebase inicializado correctamente");
  const db = firebase.firestore();

  // Mostrar refranes con depuración
  db.collection("refranes")
    .orderBy("fecha", "desc")
    .onSnapshot(
      (querySnapshot) => {
        console.log("Datos recibidos:", querySnapshot.docs);
        const lista = document.getElementById("lista-refranes");
        lista.innerHTML = "";
        
        querySnapshot.forEach((doc) => {
          const refran = doc.data();
          console.log("Refrán:", refran);
          lista.innerHTML += `
            <div class="refran">
              <p>${refran.texto}</p>
              <small>${refran.fecha?.toDate().toLocaleString() || 'Fecha no disponible'}</small>
            </div>
          `;
        });
      },
      (error) => {
        console.error("Error en la consulta:", error);
        alert("Error al cargar refranes. Revisa la consola (F12)");
      }
    );

} catch (error) {
  console.error("Error al inicializar Firebase:", error);
}
